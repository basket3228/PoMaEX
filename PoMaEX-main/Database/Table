SET foreign_key_checks = 0;

drop database pokemas;
create database pokemas;
use pokemas;

CREATE TABLE enemy (
    enemy_id INT PRIMARY KEY AUTO_INCREMENT,
    enemy_name VARCHAR(255) NOT NULL
);

CREATE TABLE luckyskill (
    luckyskill_id INT PRIMARY KEY AUTO_INCREMENT,
    luckyskill_name VARCHAR(255) not NULL
);

CREATE table type (
    type_id int PRIMARY KEY AUTO_INCREMENT,
    type_name VARCHAR (50) not null
);

CREATE TABLE sync (
    sync_id INT PRIMARY KEY AUTO_INCREMENT,
    sync_name VARCHAR(255) NOT NULL,
    type_id int not null,
    FOREIGN KEY (type_id) REFERENCES type(type_id)
);

CREATE TABLE category (
    category_id INT PRIMARY KEY AUTO_INCREMENT,
    category_name VARCHAR (50) not null
);

CREATE table role (
    role_id int PRIMARY KEY AUTO_INCREMENT,
    role_name VARCHAR (50) not null
);

CREATE TABLE trainer (
    trainer_id INT PRIMARY KEY AUTO_INCREMENT,
    trainer_name VARCHAR(50) NOT NULL,
    sync_id INT NOT NULL,
    role_id int not NULL,
    EX_Flg boolean not null,
    potential int not null,
    stars int not null,
    FOREIGN KEY (sync_id) REFERENCES sync(sync_id),
    FOREIGN KEY (role_id) REFERENCES role(role_id)
);

create table CSparty (
    CSparty_id int PRIMARY KEY AUTO_INCREMENT,
    category_id int not null,
    type_id int null,
    trainer_id1 int,
    trainer_id2 int,
    trainer_id3 int,
    luckyskill_id1 int not null,
    luckyskill_id2 int not null,
    luckyskill_id3 int not null,
    URL1 VARCHAR(255),
    URL2 VARCHAR(255),
    URL3 VARCHAR(255),
    FOREIGN KEY (category_id) REFERENCES category(category_id),
    FOREIGN KEY (type_id) REFERENCES type(type_id),
    FOREIGN KEY (trainer_id1) REFERENCES trainer(trainer_id),
    FOREIGN KEY (trainer_id2) REFERENCES trainer(trainer_id),
    FOREIGN KEY (trainer_id3) REFERENCES trainer(trainer_id),
    FOREIGN KEY (luckyskill_id1) REFERENCES luckyskill(luckyskill_id),
    FOREIGN KEY (luckyskill_id2) REFERENCES luckyskill(luckyskill_id),
    FOREIGN KEY (luckyskill_id3) REFERENCES luckyskill(luckyskill_id)
    );

create table LG(
    LG_id int PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(255) not null,
    eventNumber int not null,
    enemy_id1 int not null,
    enemy_id2 int not null,
    enemy_id3 int not null,
    FOREIGN KEY (enemy_id1) REFERENCES enemy(enemy_id),
    FOREIGN KEY (enemy_id2) REFERENCES enemy(enemy_id),
    FOREIGN KEY (enemy_id3) REFERENCES enemy(enemy_id)
    );

create table LGParty(
    LGparty_id int not null PRIMARY KEY AUTO_INCREMENT,
    category_id int not null,
    LG_id int not null,
    enemy_id int not null,
    trainer_id1 int,
    trainer_id2 int,
    trainer_id3 int,
    luckyskill_id1 int,
    luckyskill_id2 int,
    luckyskill_id3 int,
    URL1 VARCHAR(255),
    URL2 VARCHAR(255),
    URL3 VARCHAR(255),
    FOREIGN KEY (category_id) REFERENCES category(category_id),
    FOREIGN KEY (enemy_id) REFERENCES enemy(enemy_id),
    FOREIGN KEY (trainer_id1) REFERENCES trainer(trainer_id),
    FOREIGN KEY (trainer_id2) REFERENCES trainer(trainer_id),
    FOREIGN KEY (trainer_id3) REFERENCES trainer(trainer_id),
    FOREIGN KEY (luckyskill_id1) REFERENCES luckyskill(luckyskill_id),
    FOREIGN KEY (luckyskill_id2) REFERENCES luckyskill(luckyskill_id),
    FOREIGN KEY (luckyskill_id3) REFERENCES luckyskill(luckyskill_id)
    );
